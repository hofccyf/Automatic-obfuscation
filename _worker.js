const a0s=a0b;(function(a,b){const r=a0b,c=a();while(!![]){try{const d=parseInt(r(0x95))/0x1+parseInt(r(0x87))/0x2+parseInt(r(0x98))/0x3+-parseInt(r(0x9f))/0x4*(parseInt(r(0x96))/0x5)+-parseInt(r(0x99))/0x6+-parseInt(r(0x80))/0x7+-parseInt(r(0xa0))/0x8*(-parseInt(r(0x8c))/0x9);if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0xf31a1));const a0c=0x1,a0d=0x2,a0e=[a0s(0x82)],a0f=new TextEncoder();import{connect}from'cloudflare:sockets';export default{async 'fetch'(a,b,c){const t=a0s;try{const d=t(0x9d),e=a[t(0x9e)][t(0x7a)](t(0x84));if(!e||e[t(0x74)]()!==t(0x7c))return new URL(a[t(0x8f)])[t(0x86)]==='/'?new Response(t(0x77),{'status':0xc8}):new Response(t(0x8e),{'status':0x1aa});if(d&&a[t(0x9e)][t(0x7a)](t(0x76))!==d)return new Response('Unauthorized',{'status':0x191});const [f,g]=Object['values'](new WebSocketPair());g[t(0x7e)](),a0g(g)[t(0x92)](()=>a0h(g));const h={'status':0x65,'webSocket':f};return d&&(h['headers']={'Sec-WebSocket-Protocol':d}),new Response(null,h);}catch(i){return new Response(i[t(0x8d)](),{'status':0x1f4});}}};function a0b(a,b){a=a-0x73;const c=a0a();let d=c[a];return d;}async function a0g(a){const z=a0s;let b,c,d,e=![];const f=()=>{const u=a0b;if(e)return;e=!![];try{c?.[u(0x73)]();}catch{}try{d?.[u(0x73)]();}catch{}try{b?.['close']();}catch{}c=d=b=null,a0h(a);},g=async()=>{const v=a0b;try{while(!e&&d){const {done:k,value:l}=await d[v(0x85)]();if(k)break;if(a[v(0x94)]!==a0c)break;if(l?.[v(0x9c)]>0x0)a[v(0x88)](l);}}catch{}if(!e){try{a[v(0x88)](v(0x8b));}catch{}f();}},h=k=>{const w=a0b;if(k[0x0]==='['){const m=k[w(0x8a)](']');return{'host':k[w(0x7f)](0x1,m),'port':parseInt(k[w(0x7f)](m+0x2),0xa)};}const l=k['lastIndexOf'](':');return{'host':k[w(0x7f)](0x0,l),'port':parseInt(k[w(0x7f)](l+0x1),0xa)};},i=k=>{const x=a0b,l=k?.['message']?.[x(0x74)]()||'';return l[x(0x81)]('proxy\x20request')||l['includes']('cannot\x20connect')||l[x(0x81)](x(0xa2));},j=async(k,l)=>{const y=a0b,{host:m,port:n}=h(k),o=[null,...a0e];for(let p=0x0;p<o[y(0x9b)];p++){try{b=connect({'hostname':o[p]||m,'port':n});if(b[y(0xa3)])await b['opened'];c=b[y(0x93)][y(0x7b)](),d=b[y(0xa1)][y(0x9a)]();l&&await c[y(0x97)](a0f['encode'](l));a[y(0x88)]('CONNECTED'),g();return;}catch(q){try{c?.[y(0x73)]();}catch{}try{d?.[y(0x73)]();}catch{}try{b?.[y(0x90)]();}catch{}c=d=b=null;if(!i(q)||p===o[y(0x9b)]-0x1)throw q;}}};a[z(0x78)](z(0x79),async k=>{const A=z;if(e)return;try{const l=k['data'];if(typeof l===A(0x89)){if(l[A(0x75)](A(0x83))){const m=l[A(0x8a)]('|',0x8);await j(l[A(0x7f)](0x8,m),l[A(0x7f)](m+0x1));}else{if(l[A(0x75)]('DATA:'))c&&await c[A(0x97)](a0f[A(0x7d)](l[A(0x7f)](0x5)));else l===A(0x8b)&&f();}}else l instanceof ArrayBuffer&&c&&await c[A(0x97)](new Uint8Array(l));}catch(n){try{a['send']('ERROR:'+n[A(0x79)]);}catch{}f();}}),a[z(0x78)](z(0x90),f),a[z(0x78)](z(0x91),f);}function a0h(a){const B=a0s;try{(a[B(0x94)]===a0c||a[B(0x94)]===a0d)&&a[B(0x90)](0x3e8,'Server\x20closed');}catch{}}function a0a(){const C=['getReader','length','byteLength','338899','headers','4444SWXEUC','264KPixeh','readable','cloudflare','opened','releaseLock','toLowerCase','startsWith','Sec-WebSocket-Protocol','WebSocket\x20Proxy\x20Server','addEventListener','message','get','getWriter','websocket','encode','accept','substring','314377ixiLHL','includes','usip.88888888.xx.kg','CONNECT:','Upgrade','read','pathname','2255874mLazor','send','string','indexOf','CLOSE','210411QaFJBw','toString','Expected\x20WebSocket','url','close','error','catch','writable','readyState','472004aGeMmI','3285dDnQcn','write','3565392aXetPS','10735974DSXKsx'];a0a=function(){return C;};return a0a();}