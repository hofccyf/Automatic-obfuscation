const a0w=a0b;(function(a,b){const v=a0b,c=a();while(!![]){try{const d=parseInt(v(0xd3))/0x1*(-parseInt(v(0xe5))/0x2)+-parseInt(v(0xda))/0x3+-parseInt(v(0xde))/0x4+-parseInt(v(0xe4))/0x5*(-parseInt(v(0xf8))/0x6)+-parseInt(v(0xce))/0x7*(-parseInt(v(0x135))/0x8)+parseInt(v(0x113))/0x9*(-parseInt(v(0xd6))/0xa)+parseInt(v(0xd9))/0xb;if(d===b)break;else c['push'](c['shift']());}catch(e){c['push'](c['shift']());}}}(a0a,0x5b70c));let a0c='dns.google';const a0d=a0w(0xe3)+a0c+a0w(0x127),a0e='https://'+a0c+a0w(0xfb);function a0b(a,b){a=a-0xcd;const c=a0a();let d=c[a];return d;}let a0f='g';export default{async 'fetch'(a,b){const x=a0w;if(b[x(0xe2)]){a0c=b[x(0xe2)];const f=a0c['match'](/:\/\/([^\/]+)/);f&&(a0c=f[0x1]);}a0f=b[x(0x104)]||b['TOKEN']||a0f;if(a0f[x(0x128)]('/'))a0f=a0f[x(0x117)]('/')[0x1];const c=new URL(a[x(0x107)]),d=c[x(0x12e)],e=c[x(0xd4)];if(a[x(0xf3)]===x(0x138))return new Response(null,{'headers':{'Access-Control-Allow-Origin':'*','Access-Control-Allow-Methods':x(0xec),'Access-Control-Allow-Headers':'*','Access-Control-Max-Age':x(0x131)}});if(d==='/'+a0f)return await a0i(a);if(d==='/ip-info'){if(b[x(0xdf)]){const h=c[x(0x136)][x(0x122)](x(0xeb));if(h!=b[x(0xdf)])return new Response(JSON[x(0xfe)]({'status':'error','message':x(0x137),'code':'AUTH_FAILED','timestamp':new Date()[x(0xfa)]()},null,0x4),{'status':0x193,'headers':{'content-type':x(0xf7),'Access-Control-Allow-Origin':'*'}});}const g=c[x(0x136)]['get']('ip')||a[x(0xd0)][x(0x122)]('CF-Connecting-IP');if(!g)return new Response(JSON[x(0xfe)]({'status':x(0x13e),'message':x(0xea),'code':'MISSING_PARAMETER','timestamp':new Date()[x(0xfa)]()},null,0x4),{'status':0x190,'headers':{'content-type':x(0xf7),'Access-Control-Allow-Origin':'*'}});try{const i=await fetch(x(0x13a)+g+'?lang=zh-CN');if(!i['ok'])throw new Error(x(0x126)+i[x(0x118)]);const j=await i[x(0x129)]();return j[x(0xd1)]=new Date()['toISOString'](),new Response(JSON[x(0xfe)](j,null,0x4),{'headers':{'content-type':'application/json;\x20charset=UTF-8','Access-Control-Allow-Origin':'*'}});}catch(k){return console[x(0x13e)](x(0x133),k),new Response(JSON[x(0xfe)]({'status':x(0x13e),'message':x(0x11c)+k[x(0x124)],'code':x(0xf2),'query':g,'timestamp':new Date()[x(0xfa)](),'details':{'errorType':k[x(0xd8)],'stack':k[x(0x105)]?k['stack'][x(0x117)]('\x0a')[0x0]:null}},null,0x4),{'status':0x1f4,'headers':{'content-type':x(0xf7),'Access-Control-Allow-Origin':'*'}});}}if(c['searchParams'][x(0x123)]('doh')){const l=c['searchParams'][x(0x122)]('domain')||c[x(0x136)][x(0x122)](x(0xd8))||x(0x12a),m=c['searchParams'][x(0x122)](x(0xff))||a0e,n=c[x(0x136)]['get']('type')||'all';if(m['includes'](c[x(0xd7)]))return await a0h(l,n,e);try{if(n===x(0x115)){const o=await a0g(m,l,'A'),p=await a0g(m,l,x(0x12c)),q=await a0g(m,l,'NS'),r={'Status':o[x(0xe6)]||p[x(0xe6)]||q[x(0xe6)],'TC':o['TC']||p['TC']||q['TC'],'RD':o['RD']||p['RD']||q['RD'],'RA':o['RA']||p['RA']||q['RA'],'AD':o['AD']||p['AD']||q['AD'],'CD':o['CD']||p['CD']||q['CD'],'Question':[],'Answer':[...o[x(0xcf)]||[],...p[x(0xcf)]||[]],'ipv4':{'records':o[x(0xcf)]||[]},'ipv6':{'records':p[x(0xcf)]||[]},'ns':{'records':[]}};o[x(0x106)]&&(Array[x(0x101)](o[x(0x106)])?r[x(0x106)][x(0x112)](...o[x(0x106)]):r[x(0x106)][x(0x112)](o['Question']));p['Question']&&(Array[x(0x101)](p[x(0x106)])?r[x(0x106)][x(0x112)](...p[x(0x106)]):r[x(0x106)][x(0x112)](p[x(0x106)]));q[x(0x106)]&&(Array[x(0x101)](q['Question'])?r[x(0x106)]['push'](...q[x(0x106)]):r[x(0x106)][x(0x112)](q[x(0x106)]));const s=[];return q[x(0xcf)]&&q['Answer'][x(0x109)]>0x0&&q[x(0xcf)][x(0xed)](t=>{const y=x;t[y(0x12f)]===0x2&&s['push'](t);}),q[x(0xd5)]&&q[x(0xd5)][x(0x109)]>0x0&&q['Authority'][x(0xed)](t=>{const z=x;(t[z(0x12f)]===0x2||t[z(0x12f)]===0x6)&&(s[z(0x112)](t),r[z(0xcf)][z(0x112)](t));}),r['ns'][x(0xf4)]=s,new Response(JSON[x(0xfe)](r,null,0x2),{'headers':{'content-type':x(0xf7)}});}else{const t=await a0g(m,l,n);return new Response(JSON[x(0xfe)](t,null,0x2),{'headers':{'content-type':x(0xf7)}});}}catch(u){return console['error'](x(0xfd),u),new Response(JSON['stringify']({'error':x(0xf6)+u[x(0x124)],'doh':m,'domain':l,'stack':u[x(0x105)]},null,0x2),{'headers':{'content-type':x(0xf7)},'status':0x1f4});}}if(b[x(0x121)])return Response[x(0x10e)](b[x(0x121)],0x12e);else{if(b[x(0x11b)]){if(b[x(0x11b)][x(0xd2)]()[x(0x10f)]()==x(0x12b))return new Response(await a0m(),{'headers':{'Content-Type':x(0xcd)}});else return await a0k(b[x(0x11b)],c);}else return await a0j();}}};async function a0g(a,b,c){const A=a0w,d=new URL(a);d[A(0x136)][A(0xe1)]('name',b),d[A(0x136)][A(0xe1)](A(0x12f),c);const e=[{'headers':{'Accept':A(0x120)}},{'headers':{}},{'headers':{'Accept':A(0x102)}},{'headers':{'Accept':A(0x120),'User-Agent':'Mozilla/5.0\x20DNS\x20Client'}}];let f=null;for(const g of e){try{const h=await fetch(d['toString'](),g);if(h['ok']){const j=h[A(0xd0)][A(0x122)](A(0x130))||'';if(j[A(0x128)](A(0x129))||j[A(0x128)](A(0x139)))return await h[A(0x129)]();else{const k=await h[A(0x10c)]();try{return JSON[A(0x11f)](k);}catch(l){throw new Error(A(0xe7)+l['message']+A(0x10a)+k[A(0x100)](0x0,0x64));}}}const i=await h[A(0x10c)]();f=new Error(A(0xf0)+h[A(0x118)]+A(0xdc)+i['substring'](0x0,0xc8));}catch(m){f=m;}}throw f||new Error('无法完成\x20DNS\x20查询');}async function a0h(a,b,c){const B=a0w;try{if(b===B(0x115)){const d=a0g(a0e,a,'A'),e=a0g(a0e,a,'AAAA'),f=a0g(a0e,a,'NS'),[g,h,i]=await Promise['all']([d,e,f]),j=[];i[B(0xcf)]&&i[B(0xcf)][B(0x109)]>0x0&&j[B(0x112)](...i[B(0xcf)][B(0xee)](l=>l[B(0x12f)]===0x2));i[B(0xd5)]&&i[B(0xd5)]['length']>0x0&&j[B(0x112)](...i[B(0xd5)]['filter'](l=>l[B(0x12f)]===0x2||l[B(0x12f)]===0x6));const k={'Status':g[B(0xe6)]||h[B(0xe6)]||i['Status'],'TC':g['TC']||h['TC']||i['TC'],'RD':g['RD']||h['RD']||i['RD'],'RA':g['RA']||h['RA']||i['RA'],'AD':g['AD']||h['AD']||i['AD'],'CD':g['CD']||h['CD']||i['CD'],'Question':[...g[B(0x106)]||[],...h['Question']||[],...i[B(0x106)]||[]],'Answer':[...g[B(0xcf)]||[],...h['Answer']||[],...j],'ipv4':{'records':g[B(0xcf)]||[]},'ipv6':{'records':h[B(0xcf)]||[]},'ns':{'records':j}};return new Response(JSON[B(0xfe)](k,null,0x2),{'headers':{'content-type':'application/json;\x20charset=UTF-8','Access-Control-Allow-Origin':'*'}});}else{const l=await a0g(a0e,a,b);return new Response(JSON[B(0xfe)](l,null,0x2),{'headers':{'content-type':B(0xf7),'Access-Control-Allow-Origin':'*'}});}}catch(m){return console[B(0x13e)](B(0xe8),m),new Response(JSON[B(0xfe)]({'error':B(0x12d)+m[B(0x124)],'stack':m[B(0x105)]},null,0x2),{'headers':{'content-type':B(0xf7),'Access-Control-Allow-Origin':'*'},'status':0x1f4});}}function a0a(){const H=['TOKEN','replace','set','DOH','https://','72530hNXpEa','2SiApSX','Status','无法解析响应为JSON:\x20','DoH\x20查询失败:','Content-Type','IP参数未提供','token','GET,\x20POST,\x20OPTIONS','forEach','filter','\x20的\x20DoH\x20(DNS\x20over\x20HTTPS)\x0a\x20\x20\x20\x20\x20\x20\x20\x20解析服务</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x0a\x20\x20<script\x20src=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\x22></script>\x0a\x20\x20<script>\x0a\x20\x20\x20\x20//\x20获取当前页面的\x20URL\x20和主机名\x0a\x20\x20\x20\x20const\x20currentUrl\x20=\x20window.location.href;\x0a\x20\x20\x20\x20const\x20currentHost\x20=\x20window.location.host;\x0a\x20\x20\x20\x20const\x20currentProtocol\x20=\x20window.location.protocol;\x0a\x20\x20\x20\x20const\x20currentDohPath\x20=\x20\x27','DoH\x20服务器返回错误\x20(','<!DOCTYPE\x20html>\x0a<html\x20lang=\x22zh-CN\x22>\x0a\x0a<head>\x0a\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1.0\x22>\x0a\x20\x20<title>DNS-over-HTTPS\x20Resolver</title>\x0a\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\x22>\x0a\x20\x20<link\x20rel=\x22icon\x22\x0a\x20\x20\x20\x20href=\x22https://cf-assets.www.cloudflare.com/dzlvafdwdttg/6TaQ8Q7BDmdAFRoHpDCb82/8d9bc52a2ac5af100de3a9adcf99ffaa/security-shield-protection-2.svg\x22\x0a\x20\x20\x20\x20type=\x22image/x-icon\x22>\x0a\x20\x20<style>\x0a\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20font-family:\x20\x27Segoe\x20UI\x27,\x20Tahoma,\x20Geneva,\x20Verdana,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20min-height:\x20100vh;\x0a\x20\x20\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20background:\x20url(\x27https://cf-assets.www.cloudflare.com/dzlvafdwdttg/5B5shLB8bSKIyB9NJ6R1jz/87e7617be2c61603d46003cb3f1bd382/Hero-globe-bg-takeover-xxl.png\x27),\x0a\x20\x20\x20\x20\x20\x20\x20\x20linear-gradient(135deg,\x20rgba(253,\x20101,\x2060,\x200.85)\x200%,\x20rgba(251,152,30,\x200.85)\x20100%);\x0a\x20\x20\x20\x20\x20\x20background-size:\x20cover;\x0a\x20\x20\x20\x20\x20\x20background-position:\x20center\x20center;\x0a\x20\x20\x20\x20\x20\x20background-repeat:\x20no-repeat;\x0a\x20\x20\x20\x20\x20\x20background-attachment:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20padding:\x2030px\x2020px;\x0a\x20\x20\x20\x20\x20\x20box-sizing:\x20border-box;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.page-wrapper\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20max-width:\x20800px;\x0a\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20max-width:\x20800px;\x0a\x20\x20\x20\x20\x20\x20margin:\x2020px\x20auto;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20255,\x20255,\x200.65);\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2016px;\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x208px\x2032px\x20rgba(0,\x200,\x200,\x200.15);\x0a\x20\x20\x20\x20\x20\x20padding:\x2030px;\x0a\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(10px);\x0a\x20\x20\x20\x20\x20\x20-webkit-backdrop-filter:\x20blur(10px);\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.4);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20h1\x20{\x0a\x20\x20\x20\x20\x20\x20/*\x20创建文字渐变效果\x20*/\x0a\x20\x20\x20\x20\x20\x20background-image:\x20linear-gradient(to\x20right,\x20rgb(249,\x20171,\x2076),\x20rgb(252,\x20103,\x2060));\x0a\x20\x20\x20\x20\x20\x20/*\x20回退颜色，用于不支持渐变文本的浏览器\x20*/\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(252,\x20103,\x2060);\x0a\x20\x20\x20\x20\x20\x20-webkit-background-clip:\x20text;\x0a\x20\x20\x20\x20\x20\x20-moz-background-clip:\x20text;\x0a\x20\x20\x20\x20\x20\x20background-clip:\x20text;\x0a\x20\x20\x20\x20\x20\x20-webkit-text-fill-color:\x20transparent;\x0a\x20\x20\x20\x20\x20\x20-moz-text-fill-color:\x20transparent;\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20/*\x20注意：渐变文本和阴影效果同时使用可能不兼容，暂时移除阴影\x20*/\x0a\x20\x20\x20\x20\x20\x20text-shadow:\x20none;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.card\x20{\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x202px\x2010px\x20rgba(0,\x200,\x200,\x200.05);\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20255,\x20255,\x200.8);\x0a\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20\x20\x20-webkit-backdrop-filter:\x20blur(5px);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.card-header\x20{\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20242,\x20235,\x200.9);\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20padding:\x2012px\x2020px;\x0a\x20\x20\x20\x20\x20\x20border-bottom:\x20none;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.form-label\x20{\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x208px;\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(70,\x2050,\x2040);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.form-select,\x0a\x20\x20\x20\x20.form-control\x20{\x0a\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(253,\x20101,\x2060,\x200.3);\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.btn-primary\x20{\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgb(253,\x20101,\x2060);\x0a\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20transition:\x20all\x200.2s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.btn-primary:hover\x20{\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgb(230,\x2090,\x2050);\x0a\x20\x20\x20\x20\x20\x20transform:\x20translateY(-1px);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20pre\x20{\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20245,\x20240,\x200.9);\x0a\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(253,\x20101,\x2060,\x200.2);\x0a\x20\x20\x20\x20\x20\x20white-space:\x20pre-wrap;\x0a\x20\x20\x20\x20\x20\x20word-break:\x20break-all;\x0a\x20\x20\x20\x20\x20\x20font-family:\x20Consolas,\x20Monaco,\x20\x27Andale\x20Mono\x27,\x20monospace;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20max-height:\x20400px;\x0a\x20\x20\x20\x20\x20\x20overflow:\x20auto;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.loading\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20padding:\x2020px\x200;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.loading-spinner\x20{\x0a\x20\x20\x20\x20\x20\x20border:\x204px\x20solid\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20border-left:\x204px\x20solid\x20rgb(253,\x20101,\x2060);\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20width:\x2030px;\x0a\x20\x20\x20\x20\x20\x20height:\x2030px;\x0a\x20\x20\x20\x20\x20\x20animation:\x20spin\x201s\x20linear\x20infinite;\x0a\x20\x20\x20\x20\x20\x20margin:\x200\x20auto\x2010px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.badge\x20{\x0a\x20\x20\x20\x20\x20\x20margin-left:\x205px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2011px;\x0a\x20\x20\x20\x20\x20\x20vertical-align:\x20middle;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20@keyframes\x20spin\x20{\x0a\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20rotate(0deg);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20rotate(360deg);\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.footer\x20{\x0a\x20\x20\x20\x20\x20\x20margin-top:\x2030px;\x0a\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.beian-info\x20{\x0a\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.beian-info\x20a\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--primary-color);\x0a\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dashed\x20var(--primary-color);\x0a\x20\x20\x20\x20\x20\x20padding-bottom:\x202px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.beian-info\x20a:hover\x20{\x0a\x20\x20\x20\x20\x20\x20border-bottom-style:\x20solid;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20@media\x20(max-width:\x20576px)\x20{\x0a\x20\x20\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20.github-corner:hover\x20.octo-arm\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20none;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20.github-corner\x20.octo-arm\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20octocat-wave\x20560ms\x20ease-in-out;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.error-message\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20#e63e00;\x0a\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.success-message\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20#e67e22;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.nav-tabs\x20.nav-link\x20{\x0a\x20\x20\x20\x20\x20\x20border-top-left-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20border-top-right-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20padding:\x208px\x2016px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(150,\x2080,\x2050);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.nav-tabs\x20.nav-link.active\x20{\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20245,\x20240,\x200.8);\x0a\x20\x20\x20\x20\x20\x20border-bottom-color:\x20rgba(255,\x20245,\x20240,\x200.8);\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(253,\x20101,\x2060);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.tab-content\x20{\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20245,\x20240,\x200.8);\x0a\x20\x20\x20\x20\x20\x20border-radius:\x200\x200\x206px\x206px;\x0a\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(253,\x20101,\x2060,\x200.2);\x0a\x20\x20\x20\x20\x20\x20border-top:\x20none;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.ip-record\x20{\x0a\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x205px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20255,\x20255,\x200.9);\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(253,\x20101,\x2060,\x200.15);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.ip-record:hover\x20{\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20235,\x20225,\x200.9);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.ip-address\x20{\x0a\x20\x20\x20\x20\x20\x20font-family:\x20monospace;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20min-width:\x20130px;\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(80,\x2060,\x2050);\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20\x20\x20transition:\x20color\x200.2s\x20ease;\x0a\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.ip-address:hover\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(253,\x20101,\x2060);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.ip-address:after\x20{\x0a\x20\x20\x20\x20\x20\x20content:\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20left:\x20100%;\x20\x20/*\x20从IP地址的右侧开始定位\x20*/\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(253,\x20101,\x2060);\x0a\x20\x20\x20\x20\x20\x20transition:\x20opacity\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20font-family:\x20\x27Segoe\x20UI\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20normal;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.ip-address.copied:after\x20{\x0a\x20\x20\x20\x20\x20\x20content:\x20\x27✓\x20已复制\x27;\x0a\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.result-summary\x20{\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x2015px;\x0a\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20235,\x20225,\x200.8);\x0a\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.result-tabs\x20{\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.geo-info\x20{\x0a\x20\x20\x20\x20\x20\x20margin:\x200\x2010px;\x0a\x20\x20\x20\x20\x20\x20font-size:\x200.85em;\x0a\x20\x20\x20\x20\x20\x20flex-grow:\x201;\x0a\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.geo-country\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(230,\x2090,\x2050);\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20padding:\x202px\x206px;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20245,\x20240,\x200.8);\x0a\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.geo-as\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(253,\x20101,\x2060);\x0a\x20\x20\x20\x20\x20\x20padding:\x202px\x206px;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20rgba(255,\x20245,\x20240,\x200.8);\x0a\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20margin-left:\x205px;\x0a\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.geo-blocked\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20#ffffff;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20#dc3545;\x0a\x20\x20\x20\x20\x20\x20padding:\x202px\x208px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20font-weight:\x20600;\x0a\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20animation:\x20pulse-red\x202s\x20infinite;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20@keyframes\x20pulse-red\x20{\x0a\x20\x20\x20\x20\x20\x200%\x20{\x20box-shadow:\x200\x200\x200\x200\x20rgba(220,\x2053,\x2069,\x200.7);\x20}\x0a\x20\x20\x20\x20\x20\x2070%\x20{\x20box-shadow:\x200\x200\x200\x2010px\x20rgba(220,\x2053,\x2069,\x200);\x20}\x0a\x20\x20\x20\x20\x20\x20100%\x20{\x20box-shadow:\x200\x200\x200\x200\x20rgba(220,\x2053,\x2069,\x200);\x20}\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.geo-loading\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(150,\x20100,\x2080);\x0a\x20\x20\x20\x20\x20\x20font-style:\x20italic;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.ttl-info\x20{\x0a\x20\x20\x20\x20\x20\x20min-width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20text-align:\x20right;\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(180,\x2090,\x2060);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.copy-link\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(253,\x20101,\x2060);\x0a\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dashed\x20rgb(253,\x20101,\x2060);\x0a\x20\x20\x20\x20\x20\x20padding-bottom:\x202px;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.copy-link:hover\x20{\x0a\x20\x20\x20\x20\x20\x20border-bottom-style:\x20solid;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.copy-link:after\x20{\x0a\x20\x20\x20\x20\x20\x20content:\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20right:\x20-65px;\x0a\x20\x20\x20\x20\x20\x20opacity:\x200;\x0a\x20\x20\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(253,\x20101,\x2060);\x0a\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20transition:\x20opacity\x200.3s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.copy-link.copied:after\x20{\x0a\x20\x20\x20\x20\x20\x20content:\x20\x27✓\x20已复制\x27;\x0a\x20\x20\x20\x20\x20\x20opacity:\x201;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.github-corner\x20svg\x20{\x0a\x20\x20\x20\x20\x20\x20fill:\x20rgb(255,\x20255,\x20255);\x0a\x20\x20\x20\x20\x20\x20color:\x20rgb(251,152,30);\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20right:\x200;\x0a\x20\x20\x20\x20\x20\x20border:\x200;\x0a\x20\x20\x20\x20\x20\x20width:\x2080px;\x0a\x20\x20\x20\x20\x20\x20height:\x2080px;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20.github-corner:hover\x20.octo-arm\x20{\x0a\x20\x20\x20\x20\x20\x20animation:\x20octocat-wave\x20560ms\x20ease-in-out;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20/*\x20添加章鱼猫挥手动画关键帧\x20*/\x0a\x20\x20\x20\x20@keyframes\x20octocat-wave\x20{\x0a\x20\x20\x20\x20\x20\x200%,\x20100%\x20{\x20transform:\x20rotate(0);\x20}\x0a\x20\x20\x20\x20\x20\x2020%,\x2060%\x20{\x20transform:\x20rotate(-25deg);\x20}\x0a\x20\x20\x20\x20\x20\x2040%,\x2080%\x20{\x20transform:\x20rotate(10deg);\x20}\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20@media\x20(max-width:\x20576px)\x20{\x0a\x20\x20\x20\x20\x20\x20.container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20.github-corner:hover\x20.octo-arm\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20none;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20.github-corner\x20.octo-arm\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20octocat-wave\x20560ms\x20ease-in-out;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20</style>\x0a</head>\x0a\x0a<body>\x0a\x20\x20<a\x20href=\x22https://github.com/cmliu/CF-Workers-DoH\x22\x20target=\x22_blank\x22\x20class=\x22github-corner\x22\x20aria-label=\x22View\x20source\x20on\x20Github\x22>\x0a\x20\x20\x20\x20<svg\x20viewBox=\x220\x200\x20250\x20250\x22\x20aria-hidden=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20<path\x20d=\x22M0,0\x20L115,115\x20L130,115\x20L142,142\x20L250,250\x20L250,0\x20Z\x22></path>\x0a\x20\x20\x20\x20\x20\x20<path\x0a\x20\x20\x20\x20\x20\x20\x20\x20d=\x22M128.3,109.0\x20C113.8,99.7\x20119.0,89.6\x20119.0,89.6\x20C122.0,82.7\x20120.5,78.6\x20120.5,78.6\x20C119.2,72.0\x20123.4,76.3\x20123.4,76.3\x20C127.3,80.9\x20125.5,87.3\x20125.5,87.3\x20C122.9,97.6\x20130.6,101.9\x20134.4,103.2\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20fill=\x22currentColor\x22\x20style=\x22transform-origin:\x20130px\x20106px;\x22\x20class=\x22octo-arm\x22></path>\x0a\x20\x20\x20\x20\x20\x20<path\x0a\x20\x20\x20\x20\x20\x20\x20\x20d=\x22M115.0,115.0\x20C114.9,115.1\x20118.7,116.5\x20119.8,115.4\x20L133.7,101.6\x20C136.9,99.2\x20139.9,98.4\x20142.2,98.6\x20C133.8,88.0\x20127.5,74.4\x20143.8,58.0\x20C148.5,53.4\x20154.0,51.2\x20159.7,51.0\x20C160.3,49.4\x20163.2,43.6\x20171.4,40.1\x20C171.4,40.1\x20176.1,42.5\x20178.8,56.2\x20C183.1,58.6\x20187.2,61.8\x20190.9,65.4\x20C194.5,69.0\x20197.7,73.2\x20200.1,77.6\x20C213.8,80.2\x20216.3,84.9\x20216.3,84.9\x20C212.7,93.1\x20206.9,96.0\x20205.4,96.6\x20C205.1,102.4\x20203.0,107.8\x20198.3,112.5\x20C181.9,128.9\x20168.3,122.5\x20157.7,114.1\x20C157.9,116.9\x20156.7,120.9\x20152.7,124.9\x20L141.0,136.5\x20C139.8,137.7\x20141.6,141.9\x20141.8,141.8\x20Z\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20fill=\x22currentColor\x22\x20class=\x22octo-body\x22></path>\x0a\x20\x20\x20\x20</svg>\x0a\x20\x20</a>\x0a\x20\x20<div\x20class=\x22container\x22>\x0a\x20\x20\x20\x20<h1\x20class=\x22text-center\x20mb-4\x22>DNS-over-HTTPS\x20Resolver</h1>\x0a\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-header\x22>DNS\x20查询设置</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22resolveForm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22dohSelect\x22\x20class=\x22form-label\x22>选择\x20DoH\x20地址:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22dohSelect\x22\x20class=\x22form-select\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22current\x22\x20selected\x20id=\x22currentDohOption\x22>自动\x20(当前站点)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22https://dns.alidns.com/resolve\x22>https://dns.alidns.com/resolve\x20(阿里)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22https://sm2.doh.pub/dns-query\x22>https://sm2.doh.pub/dns-query\x20(腾讯)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22https://doh.360.cn/resolve\x22>https://doh.360.cn/resolve\x20(360)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22https://cloudflare-dns.com/dns-query\x22>https://cloudflare-dns.com/dns-query\x20(Cloudflare)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22https://dns.google/resolve\x22>https://dns.google/resolve\x20(谷歌)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22https://dns.adguard-dns.com/resolve\x22>https://dns.adguard-dns.com/resolve\x20(AdGuard)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22https://dns.sb/dns-query\x22>https://dns.sb/dns-query\x20(DNS.SB)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22https://zero.dns0.eu/\x22>https://zero.dns0.eu\x20(dns0.eu)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22https://dns.nextdns.io\x22>\x09https://dns.nextdns.io\x20(NextDNS)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22https://dns.rabbitdns.org/dns-query\x22>https://dns.rabbitdns.org/dns-query\x20(Rabbit\x20DNS)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22https://basic.rethinkdns.com/\x22>https://basic.rethinkdns.com\x20(RethinkDNS)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22https://v.recipes/dns-query\x22>https://v.recipes/dns-query\x20(v.recipes\x20DNS)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22custom\x22>自定义...</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22customDohContainer\x22\x20class=\x22mb-3\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22customDoh\x22\x20class=\x22form-label\x22>输入自定义\x20DoH\x20地址:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22customDoh\x22\x20class=\x22form-control\x22\x20placeholder=\x22https://example.com/dns-query\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22domain\x22\x20class=\x22form-label\x22>待解析域名:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22input-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22domain\x22\x20class=\x22form-control\x22\x20value=\x22www.google.com\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20placeholder=\x22输入域名，如\x20example.com\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-secondary\x22\x20id=\x22clearBtn\x22>清除</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22submit\x22\x20class=\x22btn\x20btn-primary\x20flex-grow-1\x22>解析</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-outline-primary\x22\x20id=\x22getJsonBtn\x22>Get\x20Json</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</form>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22card\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-header\x20d-flex\x20justify-content-between\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>解析结果</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-outline-secondary\x22\x20id=\x22copyBtn\x22\x20style=\x22display:\x20none;\x22>复制结果</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22card-body\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22loading\x22\x20class=\x22loading\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>正在查询中，请稍候...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20结果展示区，包含选项卡\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22resultContainer\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22nav\x20nav-tabs\x20result-tabs\x22\x20id=\x22resultTabs\x22\x20role=\x22tablist\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22nav-item\x22\x20role=\x22presentation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22nav-link\x20active\x22\x20id=\x22ipv4-tab\x22\x20data-bs-toggle=\x22tab\x22\x20data-bs-target=\x22#ipv4\x22\x20type=\x22button\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20role=\x22tab\x22>IPv4\x20地址</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22nav-item\x22\x20role=\x22presentation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22nav-link\x22\x20id=\x22ipv6-tab\x22\x20data-bs-toggle=\x22tab\x22\x20data-bs-target=\x22#ipv6\x22\x20type=\x22button\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20role=\x22tab\x22>IPv6\x20地址</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22nav-item\x22\x20role=\x22presentation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22nav-link\x22\x20id=\x22ns-tab\x22\x20data-bs-toggle=\x22tab\x22\x20data-bs-target=\x22#ns\x22\x20type=\x22button\x22\x20role=\x22tab\x22>NS\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20记录</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li\x20class=\x22nav-item\x22\x20role=\x22presentation\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22nav-link\x22\x20id=\x22raw-tab\x22\x20data-bs-toggle=\x22tab\x22\x20data-bs-target=\x22#raw\x22\x20type=\x22button\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20role=\x22tab\x22>原始数据</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tab-content\x22\x20id=\x22resultTabContent\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tab-pane\x20fade\x20show\x20active\x22\x20id=\x22ipv4\x22\x20role=\x22tabpanel\x22\x20aria-labelledby=\x22ipv4-tab\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22result-summary\x22\x20id=\x22ipv4Summary\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22ipv4Records\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tab-pane\x20fade\x22\x20id=\x22ipv6\x22\x20role=\x22tabpanel\x22\x20aria-labelledby=\x22ipv6-tab\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22result-summary\x22\x20id=\x22ipv6Summary\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22ipv6Records\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tab-pane\x20fade\x22\x20id=\x22ns\x22\x20role=\x22tabpanel\x22\x20aria-labelledby=\x22ns-tab\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22result-summary\x22\x20id=\x22nsSummary\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22nsRecords\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tab-pane\x20fade\x22\x20id=\x22raw\x22\x20role=\x22tabpanel\x22\x20aria-labelledby=\x22raw-tab\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre\x20id=\x22result\x22>等待查询...</pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20错误信息区域\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22errorContainer\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<pre\x20id=\x22errorMessage\x22\x20class=\x22error-message\x22></pre>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22beian-info\x22>\x0a\x20\x20\x20\x20\x20\x20<p><strong>DNS-over-HTTPS：<span\x20id=\x22dohUrlDisplay\x22\x20class=\x22copy-link\x22\x20title=\x22点击复制\x22>https://<span\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id=\x22currentDomain\x22>...</span>/','API_REQUEST_FAILED','method','records','GET','DNS\x20查询失败:\x20','application/json;\x20charset=UTF-8','102HDaCBW','`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(`HTTP\x20错误:\x20${response.status}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27IP\x20地理位置查询失败:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20处理点击复制功能\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20handleCopyClick(element,\x20textToCopy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(textToCopy).then(function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加复制成功的反馈\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20element.classList.add(\x27copied\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x202秒后移除复制成功效果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20element.classList.remove(\x27copied\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x202000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).catch(function(err)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27复制失败:\x27,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示记录\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20displayRecords(data)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27resultContainer\x27).style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27errorContainer\x27).style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27result\x27).textContent\x20=\x20JSON.stringify(data,\x20null,\x202);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20IPv4\x20记录\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipv4Records\x20=\x20data.ipv4?.records\x20||\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipv4Container\x20=\x20document.getElementById(\x27ipv4Records\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipv4Container.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(ipv4Records.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27ipv4Summary\x27).innerHTML\x20=\x20`<strong>未找到\x20IPv4\x20记录</strong>`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27ipv4Summary\x27).innerHTML\x20=\x20`<strong>找到\x20${ipv4Records.length}\x20条\x20IPv4\x20记录</strong>`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipv4Records.forEach(record\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20recordDiv\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20recordDiv.className\x20=\x20\x27ip-record\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(record.type\x20===\x205)\x20{\x20//\x20CNAME\x20记录\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20recordDiv.innerHTML\x20=\x20`\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ip-address\x22\x20data-copy=\x22${record.data}\x22>${record.data}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-success\x22>CNAME</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-muted\x20ttl-info\x22>TTL:\x20${formatTTL(record.TTL)}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipv4Container.appendChild(recordDiv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加点击事件\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20copyElem\x20=\x20recordDiv.querySelector(\x27.ip-address\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20copyElem.addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20handleCopyClick(this,\x20this.getAttribute(\x27data-copy\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(record.type\x20===\x201)\x20{\x20\x20//\x20A记录\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20recordDiv.innerHTML\x20=\x20`\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ip-address\x22\x20data-copy=\x22${record.data}\x22>${record.data}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22geo-info\x20geo-loading\x22>正在获取位置信息...</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-muted\x20ttl-info\x22>TTL:\x20${formatTTL(record.TTL)}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipv4Container.appendChild(recordDiv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加点击事件\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20copyElem\x20=\x20recordDiv.querySelector(\x27.ip-address\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20copyElem.addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20handleCopyClick(this,\x20this.getAttribute(\x27data-copy\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加地理位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20geoInfoSpan\x20=\x20recordDiv.querySelector(\x27.geo-info\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20检查是否为阻断IP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isBlockedIP(record.data))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20异步查询\x20IP\x20地理位置信息获取AS信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20queryIpGeoInfo(record.data).then(geoData\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.classList.remove(\x27geo-loading\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示阻断IP标识（替代国家信息）\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20blockedSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20blockedSpan.className\x20=\x20\x27geo-blocked\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20blockedSpan.textContent\x20=\x20\x27阻断IP\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.appendChild(blockedSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20如果有AS信息，正常显示\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(geoData\x20&&\x20geoData.status\x20===\x20\x27success\x27\x20&&\x20geoData.as)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20asSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20asSpan.className\x20=\x20\x27geo-as\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20asSpan.textContent\x20=\x20geoData.as;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.appendChild(asSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).catch(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20查询失败时仍显示阻断IP标识\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.classList.remove(\x27geo-loading\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20blockedSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20blockedSpan.className\x20=\x20\x27geo-blocked\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20blockedSpan.textContent\x20=\x20\x27阻断IP\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.appendChild(blockedSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20异步查询\x20IP\x20地理位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20queryIpGeoInfo(record.data).then(geoData\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(geoData\x20&&\x20geoData.status\x20===\x20\x27success\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新为实际的地理位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.classList.remove(\x27geo-loading\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加国家信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20countrySpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20countrySpan.className\x20=\x20\x27geo-country\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20countrySpan.textContent\x20=\x20geoData.country\x20||\x20\x27未知国家\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.appendChild(countrySpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加\x20AS\x20信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20asSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20asSpan.className\x20=\x20\x27geo-as\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20asSpan.textContent\x20=\x20geoData.as\x20||\x20\x27未知\x20AS\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.appendChild(asSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20查询失败或无结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.textContent\x20=\x20\x27位置信息获取失败\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20IPv6\x20记录\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipv6Records\x20=\x20data.ipv6?.records\x20||\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipv6Container\x20=\x20document.getElementById(\x27ipv6Records\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipv6Container.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(ipv6Records.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27ipv6Summary\x27).innerHTML\x20=\x20`<strong>未找到\x20IPv6\x20记录</strong>`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27ipv6Summary\x27).innerHTML\x20=\x20`<strong>找到\x20${ipv6Records.length}\x20条\x20IPv6\x20记录</strong>`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipv6Records.forEach(record\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20recordDiv\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20recordDiv.className\x20=\x20\x27ip-record\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(record.type\x20===\x205)\x20{\x20//\x20CNAME\x20记录\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20recordDiv.innerHTML\x20=\x20`\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ip-address\x22\x20data-copy=\x22${record.data}\x22>${record.data}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-success\x22>CNAME</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-muted\x20ttl-info\x22>TTL:\x20${formatTTL(record.TTL)}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipv6Container.appendChild(recordDiv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加点击事件\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20copyElem\x20=\x20recordDiv.querySelector(\x27.ip-address\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20copyElem.addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20handleCopyClick(this,\x20this.getAttribute(\x27data-copy\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(record.type\x20===\x2028)\x20{\x20\x20//\x20AAAA记录\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20recordDiv.innerHTML\x20=\x20`\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ip-address\x22\x20data-copy=\x22${record.data}\x22>${record.data}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22geo-info\x20geo-loading\x22>正在获取位置信息...</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-muted\x20ttl-info\x22>TTL:\x20${formatTTL(record.TTL)}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipv6Container.appendChild(recordDiv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加点击事件\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20copyElem\x20=\x20recordDiv.querySelector(\x27.ip-address\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20copyElem.addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20handleCopyClick(this,\x20this.getAttribute(\x27data-copy\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加地理位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20geoInfoSpan\x20=\x20recordDiv.querySelector(\x27.geo-info\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20检查是否为阻断IP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isBlockedIP(record.data))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20异步查询\x20IP\x20地理位置信息获取AS信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20queryIpGeoInfo(record.data).then(geoData\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.classList.remove(\x27geo-loading\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示阻断IP标识（替代国家信息）\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20blockedSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20blockedSpan.className\x20=\x20\x27geo-blocked\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20blockedSpan.textContent\x20=\x20\x27阻断IP\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.appendChild(blockedSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20如果有AS信息，正常显示\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(geoData\x20&&\x20geoData.status\x20===\x20\x27success\x27\x20&&\x20geoData.as)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20asSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20asSpan.className\x20=\x20\x27geo-as\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20asSpan.textContent\x20=\x20geoData.as;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.appendChild(asSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).catch(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20查询失败时仍显示阻断IP标识\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.classList.remove(\x27geo-loading\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20blockedSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20blockedSpan.className\x20=\x20\x27geo-blocked\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20blockedSpan.textContent\x20=\x20\x27阻断IP\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.appendChild(blockedSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20异步查询\x20IP\x20地理位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20queryIpGeoInfo(record.data).then(geoData\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(geoData\x20&&\x20geoData.status\x20===\x20\x27success\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新为实际的地理位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.classList.remove(\x27geo-loading\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加国家信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20countrySpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20countrySpan.className\x20=\x20\x27geo-country\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20countrySpan.textContent\x20=\x20geoData.country\x20||\x20\x27未知国家\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.appendChild(countrySpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加\x20AS\x20信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20asSpan\x20=\x20document.createElement(\x27span\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20asSpan.className\x20=\x20\x27geo-as\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20asSpan.textContent\x20=\x20geoData.as\x20||\x20\x27未知\x20AS\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.appendChild(asSpan);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20查询失败或无结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geoInfoSpan.textContent\x20=\x20\x27位置信息获取失败\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20NS\x20记录\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20nsRecords\x20=\x20data.ns?.records\x20||\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20nsContainer\x20=\x20document.getElementById(\x27nsRecords\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nsContainer.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(nsRecords.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27nsSummary\x27).innerHTML\x20=\x20`<strong>未找到\x20NS\x20记录</strong>`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27nsSummary\x27).innerHTML\x20=\x20`<strong>找到\x20${nsRecords.length}\x20条名称服务器记录</strong>`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nsRecords.forEach(record\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20recordDiv\x20=\x20document.createElement(\x27div\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20recordDiv.className\x20=\x20\x27ip-record\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20不同类型的记录使用不同的显示方式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(record.type\x20===\x202)\x20{\x20\x20//\x20NS\x20记录\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20recordDiv.innerHTML\x20=\x20`\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ip-address\x22\x20data-copy=\x22${record.data}\x22>${record.data}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-info\x22>NS</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-muted\x20ttl-info\x22>TTL:\x20${formatTTL(record.TTL)}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加点击事件\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20copyElem\x20=\x20recordDiv.querySelector(\x27.ip-address\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20copyElem.addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20handleCopyClick(this,\x20this.getAttribute(\x27data-copy\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(record.type\x20===\x206)\x20{\x20\x20//\x20SOA\x20记录\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20SOA\x20记录格式:\x20primary_ns\x20admin_email\x20serial\x20refresh\x20retry\x20expire\x20minimum\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20soaParts\x20=\x20record.data.split(\x27\x20\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20adminEmail\x20=\x20soaParts[1].replace(\x27.\x27,\x20\x27@\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(adminEmail.endsWith(\x27.\x27))\x20adminEmail\x20=\x20adminEmail.slice(0,\x20-1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20recordDiv.innerHTML\x20=\x20`\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ip-address\x22\x20data-copy=\x22${record.name}\x22>${record.name}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-warning\x22>SOA</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-muted\x20ttl-info\x22>TTL:\x20${formatTTL(record.TTL)}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ps-3\x20small\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><strong>主\x20NS:</strong>\x20<span\x20class=\x22ip-address\x22\x20data-copy=\x22${soaParts[0]}\x22>${soaParts[0]}</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><strong>管理邮箱:</strong>\x20<span\x20class=\x22ip-address\x22\x20data-copy=\x22${adminEmail}\x22>${adminEmail}</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><strong>序列号:</strong>\x20${soaParts[2]}</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><strong>刷新间隔:</strong>\x20${formatTTL(soaParts[3])}</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><strong>重试间隔:</strong>\x20${formatTTL(soaParts[4])}</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><strong>过期时间:</strong>\x20${formatTTL(soaParts[5])}</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><strong>最小\x20TTL:</strong>\x20${formatTTL(soaParts[6])}</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加点击事件，为SOA记录中的所有可点击元素添加事件\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20copyElems\x20=\x20recordDiv.querySelectorAll(\x27.ip-address\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20copyElems.forEach(elem\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20elem.addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20handleCopyClick(this,\x20this.getAttribute(\x27data-copy\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20其他类型的记录\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20recordDiv.innerHTML\x20=\x20`\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-between\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ip-address\x22\x20data-copy=\x22${record.data}\x22>${record.data}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22badge\x20bg-secondary\x22>类型:\x20${record.type}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-muted\x20ttl-info\x22>TTL:\x20${formatTTL(record.TTL)}</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加点击事件\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20copyElem\x20=\x20recordDiv.querySelector(\x27.ip-address\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20copyElem.addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20handleCopyClick(this,\x20this.getAttribute(\x27data-copy\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nsContainer.appendChild(recordDiv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20当用户切换到IPv4或IPv6选项卡时，确保显示已加载的地理位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27ipv4-tab\x27).addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20如果还有加载中的地理位置信息，可以在这里处理\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27ipv6-tab\x27).addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20如果还有加载中的地理位置信息，可以在这里处理\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示复制按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27copyBtn\x27).style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示错误\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20displayError(message)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27resultContainer\x27).style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27errorContainer\x27).style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27errorMessage\x27).textContent\x20=\x20message;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27copyBtn\x27).style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20表单提交后发起\x20DNS\x20查询请求\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27resolveForm\x27).addEventListener(\x27submit\x27,\x20async\x20function(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20e.preventDefault();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20dohSelect\x20=\x20document.getElementById(\x27dohSelect\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20doh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(dohSelect\x20===\x20\x27current\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doh\x20=\x20currentDohUrl;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(dohSelect\x20===\x20\x27custom\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doh\x20=\x20document.getElementById(\x27customDoh\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!doh)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27请输入自定义\x20DoH\x20地址\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doh\x20=\x20dohSelect;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20domain\x20=\x20document.getElementById(\x27domain\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!domain)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27请输入需要解析的域名\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示加载状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27loading\x27).style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27resultContainer\x27).style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27errorContainer\x27).style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27copyBtn\x27).style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20发起查询，参数采用\x20GET\x20请求方式，type=all\x20表示同时查询\x20A\x20和\x20AAAA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`?doh=${encodeURIComponent(doh)}&domain=${encodeURIComponent(domain)}&type=all`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(`HTTP\x20错误:\x20${response.status}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20json\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20检查响应是否包含错误\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(json.error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayError(json.error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayRecords(json);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayError(\x27查询失败:\x20\x27\x20+\x20error.message);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20finally\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20隐藏加载状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27loading\x27).style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20页面加载完成后执行\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.addEventListener(\x27DOMContentLoaded\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20使用本地存储记住最后使用的域名\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20lastDomain\x20=\x20localStorage.getItem(\x27lastDomain\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(lastDomain)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27domain\x27).value\x20=\x20lastDomain;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20监听域名输入变化并保存\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27domain\x27).addEventListener(\x27input\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localStorage.setItem(\x27lastDomain\x27,\x20this.value);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新显示当前域名\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27currentDomain\x27).textContent\x20=\x20currentHost;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新DoH下拉选择框的自动选项，显示完整URL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentDohOption\x20=\x20document.getElementById(\x27currentDohOption\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(currentDohOption)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentDohOption.textContent\x20=\x20currentDohUrl\x20+\x20\x27\x20(当前站点)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20设置DoH链接复制功能\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20dohUrlDisplay\x20=\x20document.getElementById(\x27dohUrlDisplay\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dohUrlDisplay)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dohUrlDisplay.addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20textToCopy\x20=\x20currentProtocol\x20+\x20\x27//\x27\x20+\x20currentHost\x20+\x20\x27/\x27\x20+\x20currentDohPath;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(textToCopy).then(function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dohUrlDisplay.classList.add(\x27copied\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dohUrlDisplay.classList.remove(\x27copied\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x202000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).catch(function(err)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27复制失败:\x27,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加Get\x20Json按钮的点击事件\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27getJsonBtn\x27).addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20dohSelect\x20=\x20document.getElementById(\x27dohSelect\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20dohUrl;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20获取当前选择的DoH服务器URL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(dohSelect\x20===\x20\x27current\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dohUrl\x20=\x20currentDohUrl;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(dohSelect\x20===\x20\x27custom\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dohUrl\x20=\x20document.getElementById(\x27customDoh\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!dohUrl)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27请输入自定义\x20DoH\x20地址\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dohUrl\x20=\x20dohSelect;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20获取域名\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20domain\x20=\x20document.getElementById(\x27domain\x27).value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!domain)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27请输入需要解析的域名\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20构建完整的查询URL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20jsonUrl\x20=\x20new\x20URL(dohUrl);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20使用name参数(标准DNS-JSON格式)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jsonUrl.searchParams.set(\x27name\x27,\x20domain);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20在新标签页打开\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.open(jsonUrl.toString(),\x20\x27_blank\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20</script>\x0a</body>\x0a\x0a</html>','toISOString','/dns-query','statusText','DNS\x20查询失败:','stringify','doh','substring','isArray','application/json','application/dns-message','PATH','stack','Question','url','\x0a\x09<!DOCTYPE\x20html>\x0a\x09<html>\x0a\x09<head>\x0a\x09<title>Welcome\x20to\x20nginx!</title>\x0a\x09<style>\x0a\x09\x09body\x20{\x0a\x09\x09\x09width:\x2035em;\x0a\x09\x09\x09margin:\x200\x20auto;\x0a\x09\x09\x09font-family:\x20Tahoma,\x20Verdana,\x20Arial,\x20sans-serif;\x0a\x09\x09}\x0a\x09</style>\x0a\x09</head>\x0a\x09<body>\x0a\x09<h1>Welcome\x20to\x20nginx!</h1>\x0a\x09<p>If\x20you\x20see\x20this\x20page,\x20the\x20nginx\x20web\x20server\x20is\x20successfully\x20installed\x20and\x0a\x09working.\x20Further\x20configuration\x20is\x20required.</p>\x0a\x09\x0a\x09<p>For\x20online\x20documentation\x20and\x20support\x20please\x20refer\x20to\x0a\x09<a\x20href=\x22http://nginx.org/\x22>nginx.org</a>.<br/>\x0a\x09Commercial\x20support\x20is\x20available\x20at\x0a\x09<a\x20href=\x22http://nginx.com/\x22>nginx.com</a>.</p>\x0a\x09\x0a\x09<p><em>Thank\x20you\x20for\x20using\x20nginx.</em></p>\x0a\x09</body>\x0a\x09</html>\x0a\x09','length',',\x20响应内容:\x20','protocol','text','search','redirect','toLowerCase','User-Agent','DoH\x20返回错误\x20(','push','2178bXLZXJ','slice','all','charAt','split','status','DoH\x20请求处理错误:\x20','Access-Control-Allow-Origin','URL','IP查询失败:\x20','https','text/plain;\x20charset=utf-8','parse','application/dns-json','URL302','get','has','message','random','HTTP\x20error:\x20','/resolve','includes','json','www.google.com','nginx','AAAA','DoH\x20查询失败:\x20','pathname','type','content-type','86400','&type=A','IP查询失败:','DoH\x20请求处理错误:','63368JPjpIx','searchParams','Token不正确','OPTIONS','dns-json','http://ip-api.com/json/','Access-Control-Allow-Methods','body','X-New-URL','error','\x27;\x0a\x20\x20\x20\x20const\x20currentDohUrl\x20=\x20currentProtocol\x20+\x20\x27//\x27\x20+\x20currentHost\x20+\x20\x27/\x27\x20+\x20currentDohPath;\x0a\x0a\x20\x20\x20\x20//\x20记录当前使用的\x20DoH\x20地址\x0a\x20\x20\x20\x20let\x20activeDohUrl\x20=\x20currentDohUrl;\x0a\x0a\x20\x20\x20\x20//\x20阻断IP列表\x0a\x20\x20\x20\x20const\x20阻断IPv4\x20=\x20[\x0a\x20\x20\x20\x20\x20\x20\x27104.21.16.1\x27,\x0a\x20\x20\x20\x20\x20\x20\x27104.21.32.1\x27,\x0a\x20\x20\x20\x20\x20\x20\x27104.21.48.1\x27,\x0a\x20\x20\x20\x20\x20\x20\x27104.21.64.1\x27,\x0a\x20\x20\x20\x20\x20\x20\x27104.21.80.1\x27,\x0a\x20\x20\x20\x20\x20\x20\x27104.21.96.1\x27,\x0a\x20\x20\x20\x20\x20\x20\x27104.21.112.1\x27\x0a\x20\x20\x20\x20];\x0a\x0a\x20\x20\x20\x20const\x20阻断IPv6\x20=\x20[\x0a\x20\x20\x20\x20\x20\x20\x272606:4700:3030::6815:1001\x27,\x0a\x20\x20\x20\x20\x20\x20\x272606:4700:3030::6815:3001\x27,\x0a\x20\x20\x20\x20\x20\x20\x272606:4700:3030::6815:7001\x27,\x0a\x20\x20\x20\x20\x20\x20\x272606:4700:3030::6815:5001\x27\x0a\x20\x20\x20\x20];\x0a\x0a\x20\x20\x20\x20//\x20检查IP是否在阻断列表中\x0a\x20\x20\x20\x20function\x20isBlockedIP(ip)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20阻断IPv4.includes(ip)\x20||\x20阻断IPv6.includes(ip);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20//\x20显示当前正在使用的\x20DoH\x20服务\x0a\x20\x20\x20\x20function\x20updateActiveDohDisplay()\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20dohSelect\x20=\x20document.getElementById(\x27dohSelect\x27);\x0a\x20\x20\x20\x20\x20\x20if\x20(dohSelect.value\x20===\x20\x27current\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20activeDohUrl\x20=\x20currentDohUrl;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20//\x20初始更新\x0a\x20\x20\x20\x20updateActiveDohDisplay();\x0a\x0a\x20\x20\x20\x20//\x20当选择自定义时显示输入框\x0a\x20\x20\x20\x20document.getElementById(\x27dohSelect\x27).addEventListener(\x27change\x27,\x20function\x20()\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20customContainer\x20=\x20document.getElementById(\x27customDohContainer\x27);\x0a\x20\x20\x20\x20\x20\x20customContainer.style.display\x20=\x20(this.value\x20===\x20\x27custom\x27)\x20?\x20\x27block\x27\x20:\x20\x27none\x27;\x0a\x0a\x20\x20\x20\x20\x20\x20if\x20(this.value\x20===\x20\x27current\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20activeDohUrl\x20=\x20currentDohUrl;\x0a\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(this.value\x20!==\x20\x27custom\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20activeDohUrl\x20=\x20this.value;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20//\x20清除按钮功能\x0a\x20\x20\x20\x20document.getElementById(\x27clearBtn\x27).addEventListener(\x27click\x27,\x20function\x20()\x20{\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27domain\x27).value\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20document.getElementById(\x27domain\x27).focus();\x0a\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20//\x20复制结果功能\x0a\x20\x20\x20\x20document.getElementById(\x27copyBtn\x27).addEventListener(\x27click\x27,\x20function\x20()\x20{\x0a\x20\x20\x20\x20\x20\x20const\x20resultText\x20=\x20document.getElementById(\x27result\x27).textContent;\x0a\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(resultText).then(function\x20()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalText\x20=\x20this.textContent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20this.textContent\x20=\x20\x27已复制\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.textContent\x20=\x20originalText;\x0a\x20\x20\x20\x20\x20\x20\x20\x20},\x202000);\x0a\x20\x20\x20\x20\x20\x20}.bind(this)).catch(function\x20(err)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27无法复制文本:\x20\x27,\x20err);\x0a\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20});\x0a\x0a\x20\x20\x20\x20//\x20格式化\x20TTL\x0a\x20\x20\x20\x20function\x20formatTTL(seconds)\x20{\x0a\x20\x20\x20\x20\x20\x20if\x20(seconds\x20<\x2060)\x20return\x20seconds\x20+\x20\x27秒\x27;\x0a\x20\x20\x20\x20\x20\x20if\x20(seconds\x20<\x203600)\x20return\x20Math.floor(seconds\x20/\x2060)\x20+\x20\x27分钟\x27;\x0a\x20\x20\x20\x20\x20\x20if\x20(seconds\x20<\x2086400)\x20return\x20Math.floor(seconds\x20/\x203600)\x20+\x20\x27小时\x27;\x0a\x20\x20\x20\x20\x20\x20return\x20Math.floor(seconds\x20/\x2086400)\x20+\x20\x27天\x27;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20//\x20查询\x20IP\x20地理位置信息\x20-\x20使用我们自己的代理API而非直接访问HTTP地址\x0a\x20\x20\x20\x20async\x20function\x20queryIpGeoInfo(ip)\x20{\x0a\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20改为使用我们自己的代理接口\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`./ip-info?ip=${ip}&token=','text/html;\x20charset=UTF-8','602uajvJO','Answer','headers','timestamp','toString','693246TaGeZq','hostname','Authority','10090YGhxBN','host','name','7242004SvBUGH','303468WXbxNv','text/html;charset=UTF-8','):\x20','floor','692208fbMUDU'];a0a=function(){return H;};return a0a();}async function a0i(a){const C=a0w,{method:b,headers:c,body:d}=a,e=c[C(0x122)](C(0x110))||'DoH\x20Client',f=new URL(a[C(0x107)]),{searchParams:g}=f;try{if(b===C(0xf5)&&!f[C(0x10d)])return new Response('Bad\x20Request',{'status':0x190,'headers':{'Content-Type':C(0x11e),'Access-Control-Allow-Origin':'*'}});let h;if(b===C(0xf5)&&g[C(0x123)](C(0xd8))){const j=g['has'](C(0x12f))?f[C(0x10d)]:f['search']+C(0x132);h=await fetch(a0e+j,{'headers':{'Accept':C(0x120),'User-Agent':e}});if(!h['ok'])h=await fetch(a0d+j,{'headers':{'Accept':'application/dns-json','User-Agent':e}});}else{if(b===C(0xf5))h=await fetch(a0e+f[C(0x10d)],{'headers':{'Accept':'application/dns-message','User-Agent':e}});else{if(b==='POST')h=await fetch(a0e,{'method':'POST','headers':{'Accept':C(0x103),'Content-Type':C(0x103),'User-Agent':e},'body':d});else return new Response('不支持的请求格式:\x20DoH请求需要包含name或dns参数，或使用POST方法',{'status':0x190,'headers':{'Content-Type':C(0x11e),'Access-Control-Allow-Origin':'*'}});}}if(!h['ok']){const k=await h[C(0x10c)]();throw new Error(C(0x111)+h['status']+'):\x20'+k[C(0x100)](0x0,0xc8));}const i=new Headers(h[C(0xd0)]);return i[C(0xe1)](C(0x11a),'*'),i[C(0xe1)](C(0x13b),C(0xec)),i[C(0xe1)]('Access-Control-Allow-Headers','*'),b==='GET'&&g[C(0x123)](C(0xd8))&&i[C(0xe1)](C(0xe9),C(0x102)),new Response(h[C(0x13c)],{'status':h[C(0x118)],'statusText':h[C(0xfc)],'headers':i});}catch(l){return console[C(0x13e)](C(0x134),l),new Response(JSON[C(0xfe)]({'error':C(0x119)+l['message'],'stack':l[C(0x105)]},null,0x4),{'status':0x1f4,'headers':{'Content-Type':C(0x102),'Access-Control-Allow-Origin':'*'}});}}async function a0j(){const D=a0w,a=D(0xf1)+a0f+'</span></strong><br>基于\x20Cloudflare\x20Workers\x20上游\x20'+a0c+D(0xef)+a0f+D(0x13f)+a0f+D(0xf9);return new Response(a,{'headers':{'content-type':D(0xdb)}});}async function a0k(a,b){const E=a0w,c=await a0l(a),d=c[Math[E(0xdd)](Math[E(0x125)]()*c[E(0x109)])],e=new URL(d);console['log'](e);const f=e[E(0x10b)]['slice'](0x0,-0x1)||E(0x11d),g=e[E(0xd4)];let h=e['pathname'];const i=e[E(0x10d)];h['charAt'](h['length']-0x1)=='/'&&(h=h[E(0x114)](0x0,-0x1));h+=b[E(0x12e)];const j=f+'://'+g+h+i,k=await fetch(j);let l=new Response(k[E(0x13c)],{'status':k['status'],'statusText':k[E(0xfc)],'headers':k[E(0xd0)]});return l[E(0xd0)][E(0xe1)](E(0x13d),j),l;}async function a0l(a){const F=a0w;var b=a[F(0xe0)](/[	|"'\r\n]+/g,',')[F(0xe0)](/,+/g,',');if(b['charAt'](0x0)==',')b=b[F(0x114)](0x1);if(b[F(0x116)](b[F(0x109)]-0x1)==',')b=b['slice'](0x0,b[F(0x109)]-0x1);const c=b[F(0x117)](',');return c;}async function a0m(){const G=a0w,a=G(0x108);return a;}